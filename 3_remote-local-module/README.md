# Переключение между локальным и удалённым модулем

### Описание файлов
В директории `mymodule-example`:
- `mymodule.h` и `mymodule.cpp` - непосредсвенно класс, выполняющий всю логику модуля. 
- `main.cpp` - файл, необходимый для присоединения модуля к системе робота. 
- `CMakeLists.txt` и `qiproject.xml ` - файлы, нужные для компиляции с помощью `qibuild`.

В директории `connect-to-module`:
- `main.cpp` - файл программы, которая подключается через прокси к нашему модулю и вызывает его функции. 
- `CMakeLists.txt` и `qiproject.xml ` - файлы, нужные для компиляции с помощью `qibuild`.

Дело в том, что тестирование локальных модулей - очень долгое занятие, поскольку нужно скопировать файл на робота по ssh, добавить путь до него в autoload.ini, а затем перезагрузить робота. Таким образом, имеет смысл использовать удалённые модули, которые запускаются на компьютере и отсылают инструкции на робота удалённо. Для того, чтобы легко переключаться между локальным модулем и удалённым, нужно добавить в make файле опцию MYMODULE_IS_REMOTE, которую мы будем переключать между ON и OFF. Если эта опция активирована, то make файл собирает не библиотеку, а бинарный файл, который мы будем запускать на своём компьютере. Также он будет добавлять определение `add_definitions( " -DMYMODULE_IS_REMOTE " )` для того, чтобы main.cpp работал несколько иначе: при таком определении будет доступна функция main, которая вызывает ALTools::mainFunction.

### Как переключиться с удалённого модуля на локальный

Для того, чтобы создать удалённый модуль, нужно включить соответствующую опцию в make файле, а также при сборке использовать toolchain для desktop'а. 
